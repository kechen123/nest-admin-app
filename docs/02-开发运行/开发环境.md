# å¼€å‘ç¯å¢ƒ

> ğŸ“– **æ–‡æ¡£å¯¼èˆª**ï¼š[è¿”å›é¦–é¡µ](../../README.md) | [å¿«é€Ÿå¼€å§‹](./å¿«é€Ÿå¼€å§‹.md) | [ç¯å¢ƒé…ç½®](./ç¯å¢ƒé…ç½®.md)

## Docker å¼€å‘ç¯å¢ƒä½¿ç”¨

### å¯åŠ¨å¼€å‘ç¯å¢ƒ

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
npm run dev:up

# ç­‰å¾… MySQL å¯åŠ¨åï¼Œåˆå§‹åŒ–æ•°æ®åº“ï¼ˆé¦–æ¬¡è¿è¡Œï¼‰
npm run backend:init-db

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
npm run ps
```

### è®¿é—®åº”ç”¨

- **å‰ç«¯åº”ç”¨**: http://localhost:4000
- **åç«¯ API**: http://localhost:3000/api
- **Swagger æ–‡æ¡£**: http://localhost:3000/api

## å¼€å‘ç¯å¢ƒç‰¹æ€§

### çƒ­é‡è½½æ”¯æŒ

å¼€å‘ç¯å¢ƒé…ç½®äº†çƒ­é‡è½½ï¼Œä¿®æ”¹ä»£ç åä¼šè‡ªåŠ¨é‡è½½ï¼Œæ— éœ€æ‰‹åŠ¨é‡å¯å®¹å™¨ï¼š

- **åç«¯**: ä½¿ç”¨ NestJS watch æ¨¡å¼ï¼Œä¿®æ”¹ `backend/src` ä¸‹çš„æ–‡ä»¶ä¼šè‡ªåŠ¨é‡è½½
- **å‰ç«¯**: ä½¿ç”¨ Vite HMRï¼Œä¿®æ”¹ `web/src` ä¸‹çš„æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ·æ–°

### Volume æŒ‚è½½

å¼€å‘ç¯å¢ƒä½¿ç”¨ volume æŒ‚è½½æºä»£ç ï¼Œå®ç°ä»£ç å®æ—¶åŒæ­¥ï¼š

- `./backend/src` â†’ `/app/src` (åªè¯»)
- `./web` â†’ `/app` (è¯»å†™)
- `node_modules` å’Œ `dist` ä½¿ç”¨åŒ¿åå·ï¼Œé¿å…è¦†ç›–

## å¸¸ç”¨å‘½ä»¤

### æœåŠ¡ç®¡ç†

```bash
# å¯åŠ¨/åœæ­¢/é‡å¯æ‰€æœ‰æœåŠ¡
npm run dev:up          # å¯åŠ¨ï¼ˆåå°ï¼‰
npm run dev:down        # åœæ­¢
npm run dev:restart     # é‡å¯
npm run dev:logs        # æŸ¥çœ‹æ—¥å¿—
```

### å•ç‹¬æ§åˆ¶æœåŠ¡

```bash
# åç«¯æœåŠ¡
npm run backend:start    # å¯åŠ¨åç«¯
npm run backend:stop     # åœæ­¢åç«¯
npm run backend:restart  # é‡å¯åç«¯
npm run backend:logs    # æŸ¥çœ‹åç«¯æ—¥å¿—
npm run backend:shell   # è¿›å…¥åç«¯å®¹å™¨

# å‰ç«¯æœåŠ¡
npm run web:start       # å¯åŠ¨å‰ç«¯
npm run web:stop        # åœæ­¢å‰ç«¯
npm run web:restart     # é‡å¯å‰ç«¯
npm run web:logs        # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
npm run web:shell       # è¿›å…¥å‰ç«¯å®¹å™¨

# æ•°æ®åº“æ“ä½œ
npm run mysql:start     # å¯åŠ¨æ•°æ®åº“
npm run mysql:stop      # åœæ­¢æ•°æ®åº“
npm run mysql:logs      # æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
npm run mysql:shell     # è¿›å…¥æ•°æ®åº“
```

## ç¯å¢ƒå˜é‡é…ç½®

è¯¦ç»†çš„ç¯å¢ƒå˜é‡é…ç½®è¯´æ˜è¯·æŸ¥çœ‹ [ç¯å¢ƒé…ç½®](./ç¯å¢ƒé…ç½®.md)

## å¸¸è§é—®é¢˜

### é—®é¢˜ 1ï¼šç«¯å£è¢«å ç”¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :3000  # Windows
lsof -i :3000                 # Linux/Mac
```

### é—®é¢˜ 2ï¼šçƒ­é‡è½½ä¸å·¥ä½œ

```bash
# æ£€æŸ¥æ–‡ä»¶æƒé™
docker-compose -f docker-compose.dev.yml exec backend ls -la /app/src

# æ£€æŸ¥ volume æŒ‚è½½
docker-compose -f docker-compose.dev.yml config
```

### é—®é¢˜ 3ï¼šå®¹å™¨æ— æ³•å¯åŠ¨

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
docker-compose -f docker-compose.dev.yml up backend

# é‡æ–°æ„å»ºé•œåƒ
npm run rebuild
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](./å¿«é€Ÿå¼€å§‹.md) - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- [ç¯å¢ƒé…ç½®](./ç¯å¢ƒé…ç½®.md) - ç¯å¢ƒé…ç½®è¯´æ˜
- [æœ¬åœ°è¿è¡Œ](./æœ¬åœ°è¿è¡Œ.md) - æœ¬åœ°è¿è¡Œæ¨¡å¼

