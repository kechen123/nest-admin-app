# éƒ¨ç½²æŒ‡å—

æ¬¢è¿ä½¿ç”¨é¡¹ç›®éƒ¨ç½²æŒ‡å—ï¼æœ¬æ–‡æ¡£å°†å¸®åŠ©æ‚¨å°†é¡¹ç›®éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚

## ğŸ“š éƒ¨ç½²æ–¹å¼é€‰æ‹©

æœ¬é¡¹ç›®æä¾›ä¸¤ç§éƒ¨ç½²æ–¹å¼ï¼Œæ‚¨å¯ä»¥æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ï¼š

### ğŸ³ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

**é€‚åˆåœºæ™¯ï¼š**
- éœ€è¦å¿«é€Ÿéƒ¨ç½²ï¼Œç¯å¢ƒä¸€è‡´æ€§å¥½
- æ–°æœåŠ¡å™¨/å·²æœ‰æœåŠ¡å™¨éƒ½å¯ä»¥ï¼ˆæœ¬æ–‡æ¡£åŒ…å«ä»é›¶å®‰è£… Docker ä¸ Docker Compose çš„æ­¥éª¤ï¼‰
- å¸Œæœ›ä½¿ç”¨å®¹å™¨åŒ–éƒ¨ç½²ï¼Œä¾¿äºç®¡ç†å’Œç»´æŠ¤
- éœ€è¦æ”¯æŒå¤šç¯å¢ƒéƒ¨ç½²ï¼ˆå¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ï¼‰

**ä¼˜ç‚¹ï¼š**
- ç¯å¢ƒéš”ç¦»ï¼Œé¿å…ä¾èµ–å†²çª
- ä¸€é”®å¯åŠ¨æ‰€æœ‰æœåŠ¡
- æ˜“äºæ‰©å±•å’Œç»´æŠ¤
- æ”¯æŒé•œåƒæ‰“åŒ…ç¦»çº¿éƒ¨ç½²

**æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š** [Docker éƒ¨ç½²æŒ‡å—](./docker.md)

---

### ğŸ“¦ pnpm æ‰“åŒ…éƒ¨ç½²

**é€‚åˆåœºæ™¯ï¼š**
- æœåŠ¡å™¨æœªå®‰è£… Docker æˆ–æ— æ³•ä½¿ç”¨å®¹å™¨
- éœ€è¦ç›´æ¥åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ Node.js åº”ç”¨
- å¯¹æœåŠ¡å™¨èµ„æºæœ‰æ›´ç²¾ç»†çš„æ§åˆ¶éœ€æ±‚
- ä¼ ç»Ÿéƒ¨ç½²æ–¹å¼

**ä¼˜ç‚¹ï¼š**
- ä¸ä¾èµ– Docker ç¯å¢ƒ
- èµ„æºå ç”¨ç›¸å¯¹è¾ƒå°
- å¯ä»¥ç›´æ¥è®¿é—®æœåŠ¡å™¨æ–‡ä»¶ç³»ç»Ÿ
- é€‚åˆå·²æœ‰ Node.js ç¯å¢ƒçš„æœåŠ¡å™¨

**æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š** [pnpm æ‰“åŒ…éƒ¨ç½²æŒ‡å—](./pnpm.md)

---

## ğŸ¤– è‡ªåŠ¨éƒ¨ç½²

å¦‚æœæ‚¨å¸Œæœ›å®ç°è‡ªåŠ¨åŒ–éƒ¨ç½²ï¼Œå¯ä»¥é…ç½® CI/CD æµç¨‹ï¼š

**æŸ¥çœ‹è¯¦ç»†æ–‡æ¡£ï¼š** [è‡ªåŠ¨éƒ¨ç½²æŒ‡å—](./automation.md)

> æç¤ºï¼šå¦‚æœä½ çš„ä»£ç ä¹Ÿæ‰˜ç®¡åœ¨ **äº‘æ•ˆ Codeup**ï¼Œè‡ªåŠ¨éƒ¨ç½²æ–‡æ¡£ä¸­æä¾›äº†â€œCodeup Webhook + æœåŠ¡å™¨ SSH æ‹‰å–â€çš„æ¨èæ–¹æ¡ˆï¼Œé€‚åˆâ€œpush åæœåŠ¡å™¨è‡ªåŠ¨æ›´æ–°â€çš„åœºæ™¯ã€‚

---

## ğŸ“Š éƒ¨ç½²æ–¹å¼å¯¹æ¯”

| ç‰¹æ€§ | Docker éƒ¨ç½² | pnpm æ‰“åŒ…éƒ¨ç½² |
|------|------------|--------------|
| **ç¯å¢ƒè¦æ±‚** | Docker + Docker Compose | Node.js + pnpm + MySQL |
| **éƒ¨ç½²é€Ÿåº¦** | â­â­â­â­â­ å¿«é€Ÿ | â­â­â­ ä¸­ç­‰ |
| **ç¯å¢ƒä¸€è‡´æ€§** | â­â­â­â­â­ ä¼˜ç§€ | â­â­â­ ä¸€èˆ¬ |
| **èµ„æºå ç”¨** | â­â­â­ ä¸­ç­‰ | â­â­â­â­ è¾ƒå° |
| **ç»´æŠ¤éš¾åº¦** | â­â­â­â­ ç®€å• | â­â­â­ ä¸­ç­‰ |
| **æ‰©å±•æ€§** | â­â­â­â­â­ ä¼˜ç§€ | â­â­â­ ä¸€èˆ¬ |
| **ç¦»çº¿éƒ¨ç½²** | âœ… æ”¯æŒ | âŒ ä¸æ”¯æŒ |
| **é€‚ç”¨åœºæ™¯** | ç”Ÿäº§ç¯å¢ƒæ¨è | ä¼ ç»ŸæœåŠ¡å™¨ç¯å¢ƒ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### Docker éƒ¨ç½²ï¼ˆ3 æ­¥å®Œæˆï¼‰

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <your-repo-url>
cd yl

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp backend/.env.example backend/.env
# ç¼–è¾‘ backend/.env æ–‡ä»¶

# 3. å¯åŠ¨æœåŠ¡
npm run build
npm run prod:up
npm run backend:init-db
```

### pnpm æ‰“åŒ…éƒ¨ç½²ï¼ˆ5 æ­¥å®Œæˆï¼‰

```bash
# 1. å®‰è£…ä¾èµ–
pnpm install

# 2. æ„å»ºé¡¹ç›®
pnpm run build:all

# 3. é…ç½®ç¯å¢ƒå˜é‡
cp backend/.env.example backend/.env
# ç¼–è¾‘ backend/.env æ–‡ä»¶

# 4. å¯åŠ¨æœåŠ¡
pnpm run start:prod

# 5. åˆå§‹åŒ–æ•°æ®åº“
cd backend
pnpm run db:init
```

---

## âš ï¸ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

åœ¨å¼€å§‹éƒ¨ç½²å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] æœåŠ¡å™¨å·²å®‰è£…æ‰€éœ€ç¯å¢ƒï¼ˆDocker æˆ– Node.jsï¼‰
- [ ] å·²é…ç½®æ•°æ®åº“ï¼ˆMySQL 8.0+ï¼‰
- [ ] å·²å‡†å¤‡ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶
- [ ] å·²å¼€æ”¾å¿…è¦çš„ç«¯å£ï¼ˆ80, 443, 3000ï¼‰
- [ ] å·²é…ç½®é˜²ç«å¢™è§„åˆ™
- [ ] å·²å¤‡ä»½ç°æœ‰æ•°æ®ï¼ˆå¦‚é€‚ç”¨ï¼‰

---

## ğŸ“ è·å–å¸®åŠ©

å¦‚æœåœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š

1. æŸ¥çœ‹å¯¹åº”éƒ¨ç½²æ–¹å¼çš„è¯¦ç»†æ–‡æ¡£
2. æ£€æŸ¥ [æ•…éšœæ’æŸ¥](./docker.md#æ•…éšœæ’æŸ¥) ç« èŠ‚
3. æŸ¥çœ‹é¡¹ç›®æ—¥å¿—ï¼š`docker-compose -f docker-compose.prod.yml logs` æˆ– `pm2 logs`

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¼€å§‹](../guide/getting-started.md) - æœ¬åœ°å¼€å‘ç¯å¢ƒæ­å»º
- [åç«¯é…ç½®](../backend/configuration.md) - åç«¯ç¯å¢ƒé…ç½®è¯¦è§£
- [å‰ç«¯é…ç½®](../frontend/configuration.md) - å‰ç«¯ç¯å¢ƒé…ç½®è¯¦è§£

