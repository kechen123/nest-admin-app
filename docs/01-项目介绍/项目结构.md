# 项目结构

## 目录结构

```
yl/
├── backend/                 # NestJS 后端服务
│   ├── src/                # 源代码目录
│   │   ├── auth/          # 认证模块
│   │   ├── common/         # 公共模块
│   │   │   ├── dto/        # 通用 DTO
│   │   │   ├── entities/   # 基础实体
│   │   │   ├── filters/    # 异常过滤器
│   │   │   ├── interceptors/ # 拦截器
│   │   │   └── interfaces/ # 接口定义
│   │   ├── modules/         # 业务模块
│   │   │   ├── user/       # 用户模块
│   │   │   ├── role/       # 角色模块
│   │   │   ├── permission/ # 权限模块
│   │   │   ├── department/ # 部门模块
│   │   │   ├── post/       # 岗位模块
│   │   │   ├── dict/       # 字典模块
│   │   │   ├── menu/       # 菜单模块
│   │   │   ├── upload/     # 上传模块
│   │   │   ├── login-log/  # 登录日志模块
│   │   │   └── operation-log/ # 操作日志模块
│   │   └── main.ts         # 入口文件
│   ├── database/           # 数据库相关
│   │   ├── init.sql        # 初始化 SQL
│   │   ├── init-db.js      # 初始化脚本
│   │   └── README.md       # 数据库说明
│   ├── uploads/            # 上传文件目录
│   ├── .env.example        # 环境变量模板
│   ├── .env                # 环境变量（需创建）
│   ├── package.json         # 项目配置
│   └── tsconfig.json       # TypeScript 配置
│
├── web/                     # Vue3 + Element Plus 前端
│   ├── src/
│   │   ├── api/           # API 接口定义
│   │   ├── assets/        # 静态资源
│   │   │   ├── less/      # 样式文件
│   │   │   └── svg/       # SVG 图标
│   │   ├── components/    # 公共组件
│   │   │   ├── Kc/        # 自定义业务组件库
│   │   │   ├── Layout/    # 布局组件
│   │   │   └── ...        # 其他组件
│   │   ├── directives/    # 自定义指令
│   │   ├── hooks/         # 组合式函数
│   │   ├── layouts/       # 布局模板
│   │   ├── modules/       # 功能模块
│   │   │   ├── router/    # 路由配置
│   │   │   ├── pinia/     # 状态管理
│   │   │   └── ...        # 其他模块
│   │   ├── pages/         # 页面组件（自动路由）
│   │   ├── stores/        # Pinia 状态存储
│   │   ├── utils/         # 工具函数
│   │   │   ├── http/      # HTTP 请求封装
│   │   │   └── ...        # 其他工具
│   │   ├── App.vue        # 根组件
│   │   └── main.ts        # 入口文件
│   ├── public/            # 静态资源目录
│   ├── .env.development.example # 开发环境变量模板
│   ├── .env.production.example # 生产环境变量模板
│   ├── package.json       # 项目配置
│   └── vite.config.ts     # Vite 配置
│
├── uniapp-mobile/          # UniApp 移动端项目
│   ├── src/
│   │   ├── api/           # API 接口
│   │   ├── pages/          # 页面
│   │   ├── stores/         # 状态管理
│   │   └── ...
│   └── package.json
│
├── docker/                  # Docker 配置文件
│   ├── backend/
│   │   ├── Dockerfile.dev  # 后端开发环境
│   │   └── Dockerfile.prod # 后端生产环境
│   ├── web/
│   │   ├── Dockerfile.dev  # 前端开发环境
│   │   ├── Dockerfile.prod # 前端生产环境
│   │   └── nginx.conf      # 前端 Nginx 配置
│   └── nginx/
│       └── nginx.conf      # 主 Nginx 配置（生产环境）
│
├── scripts/                # 脚本目录
│   ├── load-env-and-run.js # 环境变量加载脚本
│   ├── check-health.js     # 健康检查脚本
│   ├── quick-start.js      # 快速启动脚本
│   └── ...
│
├── docs/                   # 文档目录
│   ├── 01-项目介绍/        # 项目介绍文档
│   ├── 02-开发运行/        # 开发运行文档
│   └── 03-构建部署/        # 构建部署文档
│
├── docker-compose.dev.yml  # 开发环境编排
├── docker-compose.prod.yml # 生产环境编排
├── package.json            # 统一命令管理
├── README.md               # 项目主文档（索引）
└── SETUP.md                # 初始化指南（已迁移到 docs）
```

## 关键文件说明

### 根目录

- `package.json` - 统一命令管理，包含所有 npm scripts
- `docker-compose.dev.yml` - 开发环境 Docker Compose 配置
- `docker-compose.prod.yml` - 生产环境 Docker Compose 配置
- `README.md` - 项目主文档（索引）

### 后端目录

- `backend/src/main.ts` - 应用入口文件
- `backend/src/app.module.ts` - 根模块
- `backend/.env` - 环境变量配置（需创建）
- `backend/database/init-db.js` - 数据库初始化脚本

### 前端目录

- `web/src/main.ts` - 应用入口文件
- `web/src/App.vue` - 根组件
- `web/src/pages/` - 页面组件（自动路由）
- `web/.env.development` - 开发环境变量
- `web/.env.production` - 生产环境变量

### Docker 目录

- `docker/backend/Dockerfile.prod` - 后端生产镜像构建文件
- `docker/web/Dockerfile.prod` - 前端生产镜像构建文件
- `docker/nginx/nginx.conf` - 生产环境 Nginx 配置

## 环境变量文件

环境变量配置说明请查看 [环境配置](../02-开发运行/环境配置.md)

## 端口说明

- **3000** - 后端 API 服务
- **4000** - 前端开发服务器
- **3306** - MySQL 数据库
- **80** - 生产环境 Nginx（HTTP）
- **443** - 生产环境 Nginx（HTTPS）

## 数据目录

- `backend/uploads/` - 后端上传文件存储目录
- `mysql_data` - MySQL 数据卷（Docker）

## 相关文档

- [快速开始](../02-开发运行/快速开始.md)
- [环境配置](../02-开发运行/环境配置.md)
- [开发环境](../02-开发运行/开发环境.md)

