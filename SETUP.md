# é¡¹ç›®åˆå§‹åŒ–æŒ‡å—

æœ¬æ–‡æ¡£æä¾›ä»é›¶å¼€å§‹åˆå§‹åŒ–é¡¹ç›®çš„å®Œæ•´æ­¥éª¤ã€‚

> ğŸ‘‹ **å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªé¡¹ç›®ï¼Œå®Œå…¨ä¸æ‡‚ç¼–ç¨‹ï¼Œè¯·ç›´æ¥è·³åˆ°"ğŸ“ ç¬¬ä¸€æ¬¡ä½¿ç”¨å®Œæ•´æµç¨‹"éƒ¨åˆ†ã€‚**

## ğŸ“‹ å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- Docker >= 20.10.0
- Docker Compose >= 2.0.0

## ğŸ“¦ å‰ç½®æ¡ä»¶å®‰è£…æŒ‡å—

### 1. å®‰è£… Node.js

**ä»€ä¹ˆæ˜¯ Node.jsï¼Ÿ**
Node.js æ˜¯ä¸€ä¸ªè¿è¡Œ JavaScript çš„ç¯å¢ƒï¼Œæˆ‘ä»¬çš„é¡¹ç›®éœ€è¦å®ƒæ¥è¿è¡Œã€‚

**å¦‚ä½•å®‰è£…ï¼Ÿ**
1. è®¿é—® https://nodejs.org/
2. ä¸‹è½½ LTS ç‰ˆæœ¬ï¼ˆæ¨èï¼Œæ›´ç¨³å®šï¼‰
3. åŒå‡»å®‰è£…åŒ…ï¼Œä¸€è·¯ç‚¹å‡»"ä¸‹ä¸€æ­¥"å®Œæˆå®‰è£…
4. **é‡è¦**ï¼šå®‰è£…æ—¶ç¡®ä¿å‹¾é€‰"æ·»åŠ åˆ° PATH"é€‰é¡¹

**å¦‚ä½•æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼Ÿ**
æ‰“å¼€å‘½ä»¤è¡Œï¼ˆWindows: æŒ‰ Win+Rï¼Œè¾“å…¥ `cmd`ï¼Œå›è½¦ï¼›Mac: æŒ‰ Cmd+Spaceï¼Œè¾“å…¥ `terminal`ï¼Œå›è½¦ï¼›Linux: æŒ‰ Ctrl+Alt+Tï¼‰ï¼Œè¾“å…¥ï¼š
```bash
node --version
```
åº”è¯¥æ˜¾ç¤ºç±»ä¼¼ `v18.0.0` çš„ç‰ˆæœ¬å·ã€‚å¦‚æœæ˜¾ç¤º"ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤"æˆ–"command not found"ï¼Œè¯´æ˜æ²¡æœ‰å®‰è£…æˆåŠŸã€‚

**å¦‚ä½•æ£€æŸ¥ npmï¼Ÿ**
npm æ˜¯ Node.js è‡ªå¸¦çš„åŒ…ç®¡ç†å·¥å…·ï¼Œè¾“å…¥ï¼š
```bash
npm --version
```
åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ `9.0.0`ã€‚

**å¦‚æœå‘½ä»¤æ‰¾ä¸åˆ°æ€ä¹ˆåŠï¼Ÿ**
1. ç¡®è®¤ Node.js å·²å®‰è£…
2. **å…³é—­å¹¶é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œçª—å£**ï¼ˆè¿™å¾ˆé‡è¦ï¼ï¼‰
3. å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œé‡æ–°å®‰è£… Node.jsï¼Œç¡®ä¿å‹¾é€‰"æ·»åŠ åˆ° PATH"

### 2. å®‰è£… Docker

**ä»€ä¹ˆæ˜¯ Dockerï¼Ÿ**
Docker æ˜¯ä¸€ä¸ªå®¹å™¨åŒ–å¹³å°ï¼Œå¯ä»¥è®©ä½ è½»æ¾è¿è¡Œåº”ç”¨ç¨‹åºï¼Œä¸éœ€è¦æ‰‹åŠ¨é…ç½®ç¯å¢ƒã€‚

**å¦‚ä½•å®‰è£…ï¼Ÿ**
- **Windows/Mac**: è®¿é—® https://www.docker.com/products/docker-desktop/ ä¸‹è½½ Docker Desktop
- **Linux (Ubuntu/Debian)**: 
  ```bash
  sudo apt update
  sudo apt install docker.io docker-compose
  sudo systemctl start docker
  sudo systemctl enable docker
  ```

**å¦‚ä½•æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸï¼Ÿ**
```bash
docker --version
```
åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œå¦‚ `Docker version 20.10.0`ã€‚

**å¦‚ä½•å¯åŠ¨ Dockerï¼Ÿ**
- **Windows/Mac**: åŒå‡»æ¡Œé¢ä¸Šçš„ Docker Desktop å›¾æ ‡ï¼Œç­‰å¾…å¯åŠ¨å®Œæˆ
- **Linux**: Docker æœåŠ¡é€šå¸¸ä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿è¡Œ `sudo systemctl start docker`

**å¦‚ä½•æ£€æŸ¥ Docker æ˜¯å¦è¿è¡Œï¼Ÿ**
```bash
docker ps
```
å¦‚æœæ˜¾ç¤ºå®¹å™¨åˆ—è¡¨ï¼ˆå¯èƒ½æ˜¯ç©ºçš„ï¼Œæ˜¾ç¤º "CONTAINER ID" ç­‰è¡¨å¤´ï¼‰ï¼Œè¯´æ˜ Docker æ­£åœ¨è¿è¡Œã€‚å¦‚æœæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼Œè¯´æ˜ Docker æ²¡æœ‰å¯åŠ¨ã€‚

**Docker å¯åŠ¨å¤±è´¥çš„å¸¸è§åŸå› ï¼š**
- Windows: éœ€è¦å¯ç”¨ WSL 2 æˆ– Hyper-V
- Mac: éœ€è¦ç»™ Docker Desktop è¶³å¤Ÿçš„ç³»ç»Ÿæƒé™
- Linux: éœ€è¦å°†ç”¨æˆ·æ·»åŠ åˆ° docker ç»„ï¼š`sudo usermod -aG docker $USER`ï¼Œç„¶åé‡æ–°ç™»å½•

### 3. éªŒè¯æ‰€æœ‰å‰ç½®æ¡ä»¶

è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œç¡®è®¤æ‰€æœ‰å·¥å…·éƒ½å·²å®‰è£…ï¼š

```bash
node --version    # åº”è¯¥æ˜¾ç¤º v18.0.0 æˆ–æ›´é«˜ç‰ˆæœ¬
npm --version     # åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·
docker --version  # åº”è¯¥æ˜¾ç¤º Docker version 20.10.0 æˆ–æ›´é«˜ç‰ˆæœ¬
docker ps         # åº”è¯¥æ˜¾ç¤ºå®¹å™¨åˆ—è¡¨ï¼ˆå¯èƒ½æ˜¯ç©ºçš„ï¼‰
```

å¦‚æœæ‰€æœ‰å‘½ä»¤éƒ½èƒ½æ­£å¸¸æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å‡†å¤‡å·¥ä½œå®Œæˆï¼âœ…

## ğŸ“ ç¬¬ä¸€æ¬¡ä½¿ç”¨å®Œæ•´æµç¨‹ï¼ˆé›¶åŸºç¡€ç‰ˆï¼‰

å¦‚æœä½ æ˜¯ç¬¬ä¸€æ¬¡ä½¿ç”¨è¿™ä¸ªé¡¹ç›®ï¼Œå®Œå…¨ä¸æ‡‚ç¼–ç¨‹ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

### å‡†å¤‡å·¥ä½œï¼ˆåªéœ€åšä¸€æ¬¡ï¼‰

1. **å®‰è£…å¿…è¦è½¯ä»¶**
   - [ ] å®‰è£… Node.jsï¼ˆè§ä¸Šé¢çš„"å‰ç½®æ¡ä»¶å®‰è£…æŒ‡å—"ï¼‰
   - [ ] å®‰è£… Docker Desktopï¼ˆè§ä¸Šé¢çš„"å‰ç½®æ¡ä»¶å®‰è£…æŒ‡å—"ï¼‰
   - [ ] ï¼ˆå¯é€‰ï¼‰å®‰è£… VS Code ç¼–è¾‘å™¨ï¼šhttps://code.visualstudio.com/

2. **éªŒè¯å®‰è£…**
   ```bash
   node --version    # åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·
   npm --version     # åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·
   docker --version  # åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·
   ```

3. **å¯åŠ¨ Docker**
   - åŒå‡»æ¡Œé¢ä¸Šçš„ Docker Desktop å›¾æ ‡
   - ç­‰å¾…å¯åŠ¨å®Œæˆï¼ˆç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ä¸å†é—ªçƒï¼ŒWindows å³ä¸‹è§’æˆ– Mac å³ä¸Šè§’ï¼‰

### ç¬¬ä¸€æ¬¡è¿è¡Œé¡¹ç›®

**æ­¥éª¤ 1ï¼šæ‰“å¼€å‘½ä»¤è¡Œ**
- **Windows**: æŒ‰ Win+Rï¼Œè¾“å…¥ `cmd`ï¼Œå›è½¦
- **Mac**: æŒ‰ Cmd+Spaceï¼Œè¾“å…¥ `terminal`ï¼Œå›è½¦
- **Linux**: æŒ‰ Ctrl+Alt+T

**æ­¥éª¤ 2ï¼šè¿›å…¥é¡¹ç›®æ–‡ä»¶å¤¹**
```bash
# Windows ç¤ºä¾‹ï¼ˆå‡è®¾é¡¹ç›®åœ¨ D:\code\me\ylï¼‰
cd D:\code\me\yl

# Mac/Linux ç¤ºä¾‹ï¼ˆå‡è®¾åœ¨ ~/code/ylï¼‰
cd ~/code/yl
```

**å¦‚ä½•ç¡®è®¤ä½ç½®æ­£ç¡®ï¼Ÿ**
è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š
- **Windows**: `dir`ï¼Œåº”è¯¥èƒ½çœ‹åˆ° `package.json` æ–‡ä»¶
- **Mac/Linux**: `ls`ï¼Œåº”è¯¥èƒ½çœ‹åˆ° `package.json` æ–‡ä»¶

å¦‚æœçœ‹ä¸åˆ° `package.json`ï¼Œè¯´æ˜ä½ç½®ä¸å¯¹ï¼Œéœ€è¦é‡æ–°è¿›å…¥æ­£ç¡®çš„æ–‡ä»¶å¤¹ã€‚

**æ­¥éª¤ 3ï¼šæ£€æŸ¥ç¯å¢ƒå˜é‡æ–‡ä»¶**
```bash
# Windows
dir backend\.env

# Mac/Linux
ls backend/.env
```

å¦‚æœæ˜¾ç¤º"æ‰¾ä¸åˆ°æ–‡ä»¶"æˆ–"No such file"ï¼Œéœ€è¦åˆ›å»º `.env` æ–‡ä»¶ï¼ˆè§ä¸‹é¢çš„"é…ç½®ç¯å¢ƒå˜é‡"éƒ¨åˆ†ï¼‰ã€‚

**æ­¥éª¤ 4ï¼šå¯åŠ¨æœåŠ¡ï¼ˆDocker æ¨¡å¼ï¼‰**
```bash
npm run dev:up
```

**ç­‰å¾… 30-60 ç§’**ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­ä¼šï¼š
- ä¸‹è½½ Docker é•œåƒï¼ˆç¬¬ä¸€æ¬¡éœ€è¦ï¼Œå¯èƒ½è¾ƒæ…¢ï¼‰
- å¯åŠ¨ MySQL æ•°æ®åº“
- å¯åŠ¨åç«¯æœåŠ¡
- å¯åŠ¨å‰ç«¯æœåŠ¡

**å¦‚ä½•åˆ¤æ–­å¯åŠ¨æˆåŠŸï¼Ÿ**
è¿è¡Œï¼š
```bash
npm run ps
```

åº”è¯¥çœ‹åˆ°ä¸‰ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œï¼š
- `yl-mysql-dev` - MySQL æ•°æ®åº“
- `yl-backend-dev` - åç«¯æœåŠ¡
- `yl-web-dev` - å‰ç«¯æœåŠ¡

å¦‚æœçœ‹åˆ° "Up" æˆ– "healthy" çŠ¶æ€ï¼Œè¯´æ˜å¯åŠ¨æˆåŠŸï¼

**æ­¥éª¤ 5ï¼šåˆå§‹åŒ–æ•°æ®åº“**
```bash
npm run backend:init-db
```

**æˆåŠŸçš„æ ‡å¿—ï¼š** çœ‹åˆ° "æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼" å’Œ "âœ… æ•°æ®åº“ xxx åˆ›å»ºæˆåŠŸ"

**å¦‚æœå¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
- ç­‰å¾…æ›´é•¿æ—¶é—´ï¼ˆMySQL å¯èƒ½éœ€è¦ 30-60 ç§’æ‰èƒ½å®Œå…¨å¯åŠ¨ï¼‰
- æŸ¥çœ‹æ—¥å¿—ï¼š`npm run mysql:logs`
- æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é”™è¯¯"éƒ¨åˆ†

**æ­¥éª¤ 6ï¼šè®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Edge éƒ½å¯ä»¥ï¼‰ï¼Œè®¿é—®ï¼š
- **å‰ç«¯åº”ç”¨**: http://localhost:4000 ï¼ˆåº”è¯¥èƒ½çœ‹åˆ°ç™»å½•é¡µé¢ï¼‰
- **åç«¯ API**: http://localhost:3000/api ï¼ˆåº”è¯¥èƒ½çœ‹åˆ° Swagger æ–‡æ¡£é¡µé¢ï¼‰

**å¦‚æœæ‰“ä¸å¼€æ€ä¹ˆåŠï¼Ÿ**
- ç¡®è®¤æœåŠ¡å·²å¯åŠ¨ï¼š`npm run ps`
- æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€ï¼š`npm run health`
- æŸ¥çœ‹æ—¥å¿—ï¼š`npm run dev:logs`

**æ­¥éª¤ 7ï¼šç™»å½•æµ‹è¯•**
åœ¨ç™»å½•é¡µé¢è¾“å…¥ï¼š
- **ç”¨æˆ·å**ï¼š`admin`
- **å¯†ç **ï¼š`admin123`

ç‚¹å‡»ç™»å½•ï¼Œå¦‚æœèƒ½çœ‹åˆ°ç³»ç»Ÿä¸»é¡µé¢ï¼Œè¯´æ˜ä¸€åˆ‡æ­£å¸¸ï¼ğŸ‰

**æ­å–œä½ ï¼** é¡¹ç›®å·²ç»æˆåŠŸè¿è¡Œäº†ï¼

## ğŸ§¹ æ¸…ç†ç°æœ‰ç¯å¢ƒï¼ˆå¦‚æœéœ€è¦ï¼‰

å¦‚æœä¹‹å‰å·²ç»è¿è¡Œè¿‡é¡¹ç›®ï¼Œéœ€è¦æ¸…ç†ï¼š

```bash
# åœæ­¢å¹¶åˆ é™¤æ‰€æœ‰å®¹å™¨å’Œæ•°æ®å·ï¼ˆâš ï¸ ä¼šåˆ é™¤æ‰€æœ‰æ•°æ®åº“æ•°æ®ï¼‰
npm run reset

# æˆ–æ‰‹åŠ¨æ¸…ç†
npm run dev:down
docker volume rm yl_mysql_data
```

**é‡è¦æç¤º**ï¼šå¦‚æœä¿®æ”¹äº† `backend/.env` ä¸­çš„ `DB_PASSWORD`ï¼Œå¿…é¡»åˆ é™¤ MySQL æ•°æ®å·å¹¶é‡æ–°åˆå§‹åŒ–ï¼Œå› ä¸º MySQL å®¹å™¨çš„ root å¯†ç æ˜¯åœ¨é¦–æ¬¡å¯åŠ¨æ—¶è®¾ç½®çš„ã€‚

## ğŸš€ å®Œæ•´åˆå§‹åŒ–æ­¥éª¤

### 1. æ£€æŸ¥/ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼ˆå¦‚éœ€è¦ï¼‰

ç¯å¢ƒå˜é‡æ–‡ä»¶å·²å†…ç½®åœ¨é¡¹ç›®ä¸­ï¼Œå¦‚éœ€ä¿®æ”¹é…ç½®ï¼Œè¯·ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼š

**åç«¯é…ç½®** (`backend/.env`)ï¼š
```env
# æ•°æ®åº“é…ç½®ï¼ˆDocker ç¯å¢ƒä¼šè‡ªåŠ¨è¦†ç›– DB_HOSTï¼‰
DB_HOST=localhost          # Docker è¿è¡Œæ—¶ä¼šè¢«è¦†ç›–ä¸º mysql
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=root          # è¯·ä¿®æ”¹ä¸ºå®‰å…¨å¯†ç 
DB_DATABASE=myapp_db

# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=3000
JWT_SECRET=dev-secret-key  # è¯·ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²
CORS_ORIGIN=http://localhost:4000
```

**å‰ç«¯é…ç½®** (`web/.env.development`)ï¼š
```env
# API åŸºç¡€è·¯å¾„ï¼ˆå¼€å‘ç¯å¢ƒä½¿ç”¨ä»£ç†ï¼Œæ— éœ€é…ç½®ï¼‰
# VITE_APP_BASE_API=/api
```

### 2. å¯åŠ¨ Docker æœåŠ¡

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼ˆåå°è¿è¡Œï¼‰
npm run dev:up

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
npm run ps
```

ç­‰å¾…æ‰€æœ‰æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦ 30-60 ç§’ï¼‰ï¼Œç‰¹åˆ«æ˜¯ MySQL éœ€è¦æ—¶é—´åˆå§‹åŒ–ã€‚

### 3. åˆå§‹åŒ–æ•°æ®åº“

```bash
# ç­‰å¾… MySQL å®Œå…¨å¯åŠ¨åï¼ˆçº¦ 20-30 ç§’ï¼‰ï¼Œæ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–
npm run backend:init-db
```

**é‡è¦æç¤º**ï¼š
- å¦‚æœä¿®æ”¹äº† `backend/.env` ä¸­çš„ `DB_PASSWORD`ï¼Œå¿…é¡»å…ˆåˆ é™¤ MySQL æ•°æ®å·å¹¶é‡æ–°å¯åŠ¨å®¹å™¨
- MySQL å®¹å™¨çš„ root å¯†ç æ˜¯åœ¨é¦–æ¬¡å¯åŠ¨æ—¶è®¾ç½®çš„ï¼Œåç»­ä¿®æ”¹ `.env` æ–‡ä»¶ä¸ä¼šè‡ªåŠ¨æ›´æ–°å¯†ç 
- å¦‚æœé‡åˆ°å¯†ç éªŒè¯å¤±è´¥ï¼Œè¯·æ‰§è¡Œ `npm run reset` æ¸…ç†åé‡æ–°åˆå§‹åŒ–

**é¢„æœŸè¾“å‡ºï¼š**
```
æ­£åœ¨åˆå§‹åŒ–æ•°æ®åº“ myapp_db...
æ£€æµ‹åˆ° Docker ç¯å¢ƒï¼Œä½¿ç”¨ MySQL æœåŠ¡: mysql:3306
æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼

æ•°æ®åº“ä¿¡æ¯:
  æ•°æ®åº“å: myapp_db
  é»˜è®¤ç®¡ç†å‘˜è´¦å·: admin
  é»˜è®¤ç®¡ç†å‘˜å¯†ç : admin123

âš ï¸  è¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹é»˜è®¤å¯†ç ï¼
```

### 4. éªŒè¯æœåŠ¡

#### æ£€æŸ¥å®¹å™¨çŠ¶æ€

```bash
npm run ps
```

åº”è¯¥çœ‹åˆ°ä¸‰ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œï¼š
- `yl-mysql-dev` - MySQL æ•°æ®åº“ï¼ˆçŠ¶æ€ï¼šhealthyï¼‰
- `yl-backend-dev` - åç«¯æœåŠ¡ï¼ˆçŠ¶æ€ï¼šUpï¼‰
- `yl-web-dev` - å‰ç«¯æœåŠ¡ï¼ˆçŠ¶æ€ï¼šUpï¼‰

#### è®¿é—®æœåŠ¡

- **å‰ç«¯åº”ç”¨**: http://localhost:4000
- **åç«¯ API**: http://localhost:3000/api
- **Swagger æ–‡æ¡£**: http://localhost:3000/api

#### æµ‹è¯• MySQL è¿æ¥ï¼ˆNavicat ç­‰å·¥å…·ï¼‰

- **ä¸»æœº**: `localhost` æˆ– `127.0.0.1`
- **ç«¯å£**: `3306`
- **ç”¨æˆ·å**: `root`
- **å¯†ç **: `root`ï¼ˆæˆ– `.env` ä¸­é…ç½®çš„ `DB_PASSWORD`ï¼‰
- **æ•°æ®åº“**: `myapp_db`

**æ³¨æ„**ï¼šæ•°æ®åº“åˆå§‹åŒ–è„šæœ¬ä¼šè‡ªåŠ¨é…ç½®å¤–éƒ¨è¿æ¥æƒé™ï¼Œæ— éœ€é¢å¤–æ“ä½œã€‚å¦‚æœé‡åˆ°è¿æ¥é—®é¢˜ï¼Œå¯ä»¥é‡æ–°è¿è¡Œåˆå§‹åŒ–è„šæœ¬ã€‚

### 5. å¦‚ä½•åˆ¤æ–­å‘½ä»¤æ˜¯å¦æˆåŠŸï¼Ÿ

#### å¯åŠ¨æœåŠ¡çš„åˆ¤æ–­æ ‡å‡†

**å¯åŠ¨ MySQLï¼š**
```bash
npm run mysql:start
```

**æˆåŠŸçš„æ ‡å¿—ï¼š**
- æœ€åä¸€è¡Œæ˜¾ç¤ºç±»ä¼¼ `yl-mysql-dev` çš„å®¹å™¨åç§°
- æ²¡æœ‰çº¢è‰²çš„é”™è¯¯ä¿¡æ¯
- ç­‰å¾… 10-20 ç§’åï¼Œè¿è¡Œ `npm run ps` èƒ½çœ‹åˆ° MySQL å®¹å™¨çŠ¶æ€ä¸º "Up" æˆ– "healthy"

**å¤±è´¥çš„æ ‡å¿—ï¼š**
- æ˜¾ç¤ºçº¢è‰²é”™è¯¯ä¿¡æ¯
- æç¤º"ç«¯å£å·²è¢«å ç”¨"ï¼ˆè¯´æ˜ 3306 ç«¯å£è¢«å…¶ä»–ç¨‹åºä½¿ç”¨ï¼‰
- æç¤º"æƒé™ä¸è¶³"ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰

**å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š**
```bash
npm run dev:up
```

**æˆåŠŸçš„æ ‡å¿—ï¼š**
- æ˜¾ç¤ºä¸‰ä¸ªå®¹å™¨çš„å¯åŠ¨ä¿¡æ¯
- æ²¡æœ‰çº¢è‰²é”™è¯¯ä¿¡æ¯
- è¿è¡Œ `npm run ps` çœ‹åˆ°ä¸‰ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œ

**å¤±è´¥çš„æ ‡å¿—ï¼š**
- æ˜¾ç¤º "ERROR" æˆ– "Failed" ä¿¡æ¯
- å®¹å™¨çŠ¶æ€æ˜¾ç¤º "Exited" æˆ– "Restarting"

#### åˆå§‹åŒ–æ•°æ®åº“çš„åˆ¤æ–­æ ‡å‡†

**è¿è¡Œåˆå§‹åŒ–ï¼š**
```bash
npm run backend:init-db
```

**æˆåŠŸçš„æ ‡å¿—ï¼š**
- æ˜¾ç¤º "âœ… æ•°æ®åº“ xxx åˆ›å»ºæˆåŠŸ"
- æ˜¾ç¤º "æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼"
- æ˜¾ç¤ºæ•°æ®åº“ä¿¡æ¯ï¼ˆæ•°æ®åº“åã€ç®¡ç†å‘˜è´¦å·ç­‰ï¼‰
- æœ€åæ˜¾ç¤º "âš ï¸  è¯·åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¿®æ”¹é»˜è®¤å¯†ç ï¼"

**å¤±è´¥çš„æ ‡å¿—ï¼š**
- æ˜¾ç¤º "âŒ æ•°æ®åº“è®¤è¯å¤±è´¥"
- æ˜¾ç¤º "é”™è¯¯: åˆ›å»ºæ•°æ®åº“å¤±è´¥"
- æ˜¾ç¤ºçº¢è‰²é”™è¯¯ä¿¡æ¯
- æç¤ºå¯†ç ä¸ä¸€è‡´

#### æœåŠ¡è¿è¡ŒçŠ¶æ€çš„åˆ¤æ–­æ ‡å‡†

**æ£€æŸ¥æœåŠ¡çŠ¶æ€ï¼š**
```bash
npm run ps
```

**æ­£å¸¸çš„æ ‡å¿—ï¼š**
- çœ‹åˆ°ä¸‰ä¸ªå®¹å™¨ï¼š`yl-mysql-dev`ã€`yl-backend-dev`ã€`yl-web-dev`
- çŠ¶æ€æ˜¾ç¤º "Up" æˆ– "healthy"
- æ²¡æœ‰ "Exited" æˆ– "Restarting" çŠ¶æ€

**ä¸æ­£å¸¸çš„æ ‡å¿—ï¼š**
- å®¹å™¨æ•°é‡å°‘äº 3 ä¸ª
- çŠ¶æ€æ˜¾ç¤º "Exited"ï¼ˆå·²é€€å‡ºï¼‰
- çŠ¶æ€æ˜¾ç¤º "Restarting"ï¼ˆä¸æ–­é‡å¯ï¼‰
- çŠ¶æ€æ˜¾ç¤º "Unhealthy"ï¼ˆä¸å¥åº·ï¼‰

**å¥åº·æ£€æŸ¥ï¼š**
```bash
npm run health
```

**æ­£å¸¸çš„æ ‡å¿—ï¼š**
- æ‰€æœ‰æœåŠ¡æ˜¾ç¤º âœ… å’Œ "æ­£å¸¸"
- æ˜¾ç¤º "æ‰€æœ‰æœåŠ¡è¿è¡Œæ­£å¸¸ï¼"

**ä¸æ­£å¸¸çš„æ ‡å¿—ï¼š**
- æŸäº›æœåŠ¡æ˜¾ç¤º âŒ å’Œ "å¼‚å¸¸"
- æ˜¾ç¤º "éƒ¨åˆ†æœåŠ¡å¼‚å¸¸ï¼Œè¯·æ£€æŸ¥ä¸Šè¿°ä¿¡æ¯"

### 6. æŸ¥çœ‹æ—¥å¿—ï¼ˆå¦‚é‡é—®é¢˜ï¼‰

#### ä»€ä¹ˆæ˜¯æ—¥å¿—ï¼Ÿ
æ—¥å¿—å°±æ˜¯ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­è®°å½•çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬é”™è¯¯ã€è­¦å‘Šã€æ­£å¸¸æ“ä½œç­‰ã€‚å½“å‡ºç°é—®é¢˜æ—¶ï¼ŒæŸ¥çœ‹æ—¥å¿—å¯ä»¥å¸®åŠ©ä½ æ‰¾åˆ°åŸå› ã€‚

#### å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ

**æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—ï¼š**
```bash
npm run dev:logs
```
è¿™ä¼šæ˜¾ç¤ºæ‰€æœ‰æœåŠ¡çš„å®æ—¶æ—¥å¿—ï¼ŒæŒ‰ Ctrl+C å¯ä»¥åœæ­¢ã€‚

**æŸ¥çœ‹å•ä¸ªæœåŠ¡æ—¥å¿—ï¼š**
```bash
npm run backend:logs   # åç«¯æ—¥å¿—
npm run web:logs       # å‰ç«¯æ—¥å¿—
npm run mysql:logs     # MySQL æ—¥å¿—
```

#### å¦‚ä½•ç†è§£æ—¥å¿—ï¼Ÿ

**æ­£å¸¸æ—¥å¿—ç¤ºä¾‹ï¼š**
```
[INFO] Server is running on port 3000
[INFO] Database connected successfully
[Nest] Application successfully started
```
è¿™äº›æ˜¯æ­£å¸¸ä¿¡æ¯ï¼Œè¯´æ˜æœåŠ¡è¿è¡Œæ­£å¸¸ã€‚

**é”™è¯¯æ—¥å¿—ç¤ºä¾‹ï¼š**
```
[ERROR] Cannot connect to database
[ERROR] Port 3000 is already in use
[ERROR] Access denied for user 'root'@'localhost'
```
è¿™äº›æ˜¯é”™è¯¯ä¿¡æ¯ï¼Œéœ€è¦æ ¹æ®é”™è¯¯å†…å®¹è§£å†³é—®é¢˜ã€‚

#### å¸¸è§æ—¥å¿—é”™è¯¯åŠè§£å†³

**"Cannot connect to database"**
- **åŸå› **ï¼šæ— æ³•è¿æ¥åˆ°æ•°æ®åº“
- **è§£å†³**ï¼šæ£€æŸ¥ MySQL æ˜¯å¦å¯åŠ¨ï¼ˆ`npm run ps`ï¼‰ï¼Œæ£€æŸ¥ `.env` é…ç½®

**"Port xxx is already in use"**
- **åŸå› **ï¼šç«¯å£è¢«å ç”¨
- **è§£å†³**ï¼šåœæ­¢å ç”¨ç«¯å£çš„ç¨‹åºï¼Œæˆ–ä¿®æ”¹é…ç½®ä½¿ç”¨å…¶ä»–ç«¯å£

**"Access denied for user"**
- **åŸå› **ï¼šæ•°æ®åº“ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯
- **è§£å†³**ï¼šæ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ `DB_USERNAME` å’Œ `DB_PASSWORD`

### 7. æœåŠ¡è¿è¡Œæ£€æŸ¥æ¸…å•

è¿è¡Œé¡¹ç›®åï¼ŒæŒ‰ç…§ä»¥ä¸‹æ¸…å•æ£€æŸ¥æ˜¯å¦ä¸€åˆ‡æ­£å¸¸ï¼š

#### Docker æ¨¡å¼æ£€æŸ¥æ¸…å•

- [ ] Docker Desktop æ­£åœ¨è¿è¡Œï¼ˆç³»ç»Ÿæ‰˜ç›˜æœ‰ Docker å›¾æ ‡ï¼‰
- [ ] è¿è¡Œ `npm run ps` çœ‹åˆ°ä¸‰ä¸ªå®¹å™¨éƒ½åœ¨è¿è¡Œ
- [ ] è¿è¡Œ `npm run health` æ‰€æœ‰æœåŠ¡æ˜¾ç¤º âœ…
- [ ] æµè§ˆå™¨è®¿é—® http://localhost:4000 èƒ½çœ‹åˆ°ç™»å½•é¡µé¢
- [ ] æµè§ˆå™¨è®¿é—® http://localhost:3000/api èƒ½çœ‹åˆ° Swagger æ–‡æ¡£
- [ ] ä½¿ç”¨ admin/admin123 èƒ½æˆåŠŸç™»å½•

#### æœ¬åœ°æ¨¡å¼æ£€æŸ¥æ¸…å•

- [ ] Docker Desktop æ­£åœ¨è¿è¡Œ
- [ ] MySQL å®¹å™¨æ­£åœ¨è¿è¡Œï¼ˆ`npm run ps` èƒ½çœ‹åˆ° yl-mysql-devï¼‰
- [ ] åç«¯æœåŠ¡æ­£åœ¨è¿è¡Œï¼ˆå‘½ä»¤è¡Œçª—å£æ˜¾ç¤º "Server is running"ï¼‰
- [ ] æµè§ˆå™¨è®¿é—® http://localhost:3000/api èƒ½çœ‹åˆ° Swagger æ–‡æ¡£
- [ ] ï¼ˆå¦‚æœå¯åŠ¨äº†å‰ç«¯ï¼‰æµè§ˆå™¨è®¿é—® http://localhost:4000 èƒ½çœ‹åˆ°ç™»å½•é¡µé¢

#### å¦‚æœæ£€æŸ¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

1. **æŸ¥çœ‹æ—¥å¿—**ï¼šè¿è¡Œ `npm run dev:logs` æˆ–å•ä¸ªæœåŠ¡çš„æ—¥å¿—å‘½ä»¤
2. **æ£€æŸ¥é…ç½®**ï¼šç¡®è®¤ `.env` æ–‡ä»¶é…ç½®æ­£ç¡®
3. **é‡å¯æœåŠ¡**ï¼šè¿è¡Œ `npm run dev:restart` æˆ–å•ä¸ªæœåŠ¡çš„é‡å¯å‘½ä»¤
4. **æŸ¥çœ‹æœ¬æ–‡æ¡£çš„"å¸¸è§é”™è¯¯"éƒ¨åˆ†**

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
npm run dev:logs

# æŸ¥çœ‹å•ä¸ªæœåŠ¡æ—¥å¿—
npm run backend:logs
npm run web:logs
npm run mysql:logs
```

## ğŸš€ æ–¹å¼äºŒï¼šæœ¬åœ°è¿è¡Œæ¨¡å¼ï¼ˆç‹¬ç«‹è¿è¡Œï¼‰

**é€‚ç”¨åœºæ™¯**ï¼šåç«¯åœ¨æœ¬åœ°è¿è¡Œï¼ŒMySQL åœ¨ Docker å®¹å™¨ä¸­

### å‰ç½®è¦æ±‚

- Node.js >= 18.0.0
- Dockerï¼ˆä»…ç”¨äº MySQL å®¹å™¨ï¼‰
- npm æˆ– pnpm

### åˆå§‹åŒ–æ­¥éª¤

#### 1. é…ç½®ç¯å¢ƒå˜é‡

```bash
cd backend

# ç¡®ä¿ backend/.env æ–‡ä»¶å­˜åœ¨
# ç¼–è¾‘ backend/.envï¼Œè®¾ç½®ä»¥ä¸‹é…ç½®ï¼š
```

**backend/.env é…ç½®ç¤ºä¾‹**ï¼š
```env
# æ•°æ®åº“é…ç½®ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰
DB_HOST=localhost          # æœ¬åœ°æ¨¡å¼å¿…é¡»ä½¿ç”¨ localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password  # è¯·ä¿®æ”¹ä¸ºå®‰å…¨å¯†ç 
DB_DATABASE=myapp_db

# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=3000
JWT_SECRET=dev-secret-key
CORS_ORIGIN=http://localhost:4000
```

**é‡è¦æç¤º**ï¼š
- `DB_HOST` å¿…é¡»è®¾ç½®ä¸º `localhost`ï¼ˆä¸æ˜¯ `mysql`ï¼‰
- `DB_PASSWORD` å¿…é¡»ä¸ MySQL å®¹å™¨å¯åŠ¨æ—¶ä½¿ç”¨çš„å¯†ç ä¸€è‡´

#### 2. å¯åŠ¨ MySQL å®¹å™¨

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
npm run mysql:start
```

ç­‰å¾… MySQL å¯åŠ¨å®Œæˆï¼ˆçº¦ 10-20 ç§’ï¼‰

#### 3. æ£€æŸ¥ MySQL çŠ¶æ€

```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
npm run ps

# æŸ¥çœ‹ MySQL æ—¥å¿—ï¼ˆå¯é€‰ï¼‰
npm run mysql:logs
```

#### 4. åˆå§‹åŒ–æ•°æ®åº“

```bash
# åœ¨ backend ç›®å½•è¿è¡Œ
cd backend
npm run db:init
```

**é¢„æœŸè¾“å‡º**ï¼š
```
âœ… å·²ä»æ–‡ä»¶åŠ è½½é…ç½®: backend/.env
æ­£åœ¨åˆå§‹åŒ–æ•°æ®åº“ myapp_db...
æ£€æµ‹åˆ°æœ¬åœ°ç¯å¢ƒï¼Œä½¿ç”¨ MySQL å®¹å™¨: yl-mysql-dev
âœ… æ•°æ®åº“ myapp_db åˆ›å»ºæˆåŠŸ
æ•°æ®åº“åˆå§‹åŒ–å®Œæˆï¼
```

#### 5. å¯åŠ¨åç«¯æœåŠ¡

```bash
# åœ¨ backend ç›®å½•
npm run start:dev
```

åç«¯æœåŠ¡å°†åœ¨ http://localhost:3000 å¯åŠ¨

#### 6. å¯åŠ¨å‰ç«¯æœåŠ¡ï¼ˆå¯é€‰ï¼‰

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
cd web
npm install
npm run dev
```

å‰ç«¯æœåŠ¡å°†åœ¨ http://localhost:4000 å¯åŠ¨

### éªŒè¯æœåŠ¡

#### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run health
```

#### è®¿é—®æœåŠ¡

- **åç«¯ API**: http://localhost:3000/api
- **Swagger æ–‡æ¡£**: http://localhost:3000/api
- **å‰ç«¯åº”ç”¨**: http://localhost:4000ï¼ˆå¦‚æœå·²å¯åŠ¨ï¼‰

### æœ¬åœ°æ¨¡å¼å¸¸è§é—®é¢˜

#### é—®é¢˜ 1: æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥ï¼Œæç¤ºå¯†ç ä¸ä¸€è‡´

**åŸå› **ï¼šMySQL å®¹å™¨çš„å¯†ç ä¸ `backend/.env` ä¸­çš„ `DB_PASSWORD` ä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆ**ï¼š

**æ–¹æ¡ˆ 1ï¼šåˆ é™¤æ•°æ®å·å¹¶é‡æ–°åˆå§‹åŒ–ï¼ˆæ¨èï¼‰**
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run mysql:stop
docker volume rm yl_mysql_data
npm run mysql:start
# ç­‰å¾… MySQL å¯åŠ¨å
cd backend
npm run db:init
```

**æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ .env æ–‡ä»¶ä½¿ç”¨å½“å‰å¯†ç **
```bash
# ç¼–è¾‘ backend/.envï¼Œå°† DB_PASSWORD æ”¹ä¸º MySQL å®¹å™¨çš„å®é™…å¯†ç 
# ç„¶åé‡æ–°è¿è¡Œ
cd backend
npm run db:init
```

#### é—®é¢˜ 2: æ— æ³•è¿æ¥åˆ° MySQL

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ MySQL å®¹å™¨å·²å¯åŠ¨ï¼š`npm run ps`
2. æ£€æŸ¥ç«¯å£ 3306 æ˜¯å¦è¢«å ç”¨
3. ç¡®è®¤ `DB_HOST=localhost` åœ¨ `.env` æ–‡ä»¶ä¸­

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# é‡å¯ MySQL å®¹å™¨
npm run mysql:stop
npm run mysql:start
```

#### é—®é¢˜ 3: åç«¯æœåŠ¡æ— æ³•å¯åŠ¨

**æ£€æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ MySQL å®¹å™¨å·²å¯åŠ¨å¹¶å¥åº·
2. æ£€æŸ¥ `backend/.env` é…ç½®æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹åç«¯æ—¥å¿—

**è§£å†³æ–¹æ¡ˆ**ï¼š
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
npm run health

# æŸ¥çœ‹ MySQL æ—¥å¿—
npm run mysql:logs
```

### æœ¬åœ°æ¨¡å¼å¸¸ç”¨å‘½ä»¤

```bash
# MySQL ç®¡ç†
npm run mysql:start      # å¯åŠ¨ MySQL å®¹å™¨
npm run mysql:stop       # åœæ­¢ MySQL å®¹å™¨
npm run mysql:logs       # æŸ¥çœ‹ MySQL æ—¥å¿—
npm run mysql:shell      # è¿›å…¥ MySQL å‘½ä»¤è¡Œ

# æ•°æ®åº“æ“ä½œï¼ˆåœ¨ backend ç›®å½•ï¼‰
cd backend
npm run db:init          # åˆå§‹åŒ–æ•°æ®åº“
npm run db:fix-external-access  # ä¿®å¤å¤–éƒ¨è¿æ¥æƒé™

# åç«¯æœåŠ¡ï¼ˆåœ¨ backend ç›®å½•ï¼‰
npm run start:dev        # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start:prod       # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# å¥åº·æ£€æŸ¥ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
npm run health           # æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
npm run verify           # æ£€æŸ¥æœåŠ¡çŠ¶æ€å¹¶æ˜¾ç¤ºå®¹å™¨ä¿¡æ¯
```

### å¿«é€Ÿå¯åŠ¨ï¼ˆæœ¬åœ°æ¨¡å¼ï¼‰

ä½¿ç”¨å¿«é€Ÿå¯åŠ¨è„šæœ¬å¯ä»¥ä¸€é”®å®Œæˆ MySQL å¯åŠ¨å’Œæ•°æ®åº“åˆå§‹åŒ–ï¼š

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•
npm run quick-start
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. æ£€æŸ¥ `.env` æ–‡ä»¶
2. å¯åŠ¨ MySQL å®¹å™¨
3. ç­‰å¾… MySQL å°±ç»ª
4. åˆå§‹åŒ–æ•°æ®åº“

## ğŸ†˜ å¸¸è§é”™è¯¯åŠè§£å†³æ–¹æ¡ˆï¼ˆå°ç™½ä¸“ç”¨ï¼‰

### é”™è¯¯ 1: "npm ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤" æˆ– "command not found: npm"

**åŸå› ï¼š** Node.js æ²¡æœ‰å®‰è£…æˆ–æ²¡æœ‰æ·»åŠ åˆ°ç³»ç»Ÿè·¯å¾„

**è§£å†³æ–¹æ¡ˆï¼š**
1. é‡æ–°å®‰è£… Node.jsï¼ˆä» https://nodejs.org/ ä¸‹è½½ï¼‰
2. å®‰è£…æ—¶ç¡®ä¿å‹¾é€‰"æ·»åŠ åˆ° PATH"é€‰é¡¹
3. å®‰è£…å®Œæˆåï¼Œ**å…³é—­å¹¶é‡æ–°æ‰“å¼€å‘½ä»¤è¡Œçª—å£**ï¼ˆè¿™å¾ˆé‡è¦ï¼ï¼‰
4. å†æ¬¡å°è¯•è¿è¡Œå‘½ä»¤

**å¦‚ä½•éªŒè¯ä¿®å¤æˆåŠŸï¼Ÿ**
è¿è¡Œ `npm --version`ï¼Œåº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬å·ã€‚

### é”™è¯¯ 2: "docker ä¸æ˜¯å†…éƒ¨æˆ–å¤–éƒ¨å‘½ä»¤" æˆ– "command not found: docker"

**åŸå› ï¼š** Docker æ²¡æœ‰å®‰è£…æˆ–æ²¡æœ‰å¯åŠ¨

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤å·²å®‰è£… Docker Desktop
2. åŒå‡»æ¡Œé¢ä¸Šçš„ Docker Desktop å›¾æ ‡å¯åŠ¨
3. ç­‰å¾… Docker å¯åŠ¨å®Œæˆï¼ˆç³»ç»Ÿæ‰˜ç›˜å›¾æ ‡ä¸å†é—ªçƒï¼‰
4. é‡æ–°è¿è¡Œå‘½ä»¤

**å¦‚ä½•éªŒè¯ä¿®å¤æˆåŠŸï¼Ÿ**
è¿è¡Œ `docker ps`ï¼Œåº”è¯¥æ˜¾ç¤ºå®¹å™¨åˆ—è¡¨ï¼ˆå¯èƒ½æ˜¯ç©ºçš„ï¼‰ã€‚

### é”™è¯¯ 3: "ç«¯å£ 3306 å·²è¢«å ç”¨" æˆ– "Port 3306 is already in use"

**åŸå› ï¼š** ä½ çš„ç”µè„‘ä¸Šå·²ç»æœ‰å…¶ä»–ç¨‹åºåœ¨ä½¿ç”¨ 3306 ç«¯å£ï¼ˆå¯èƒ½æ˜¯å¦ä¸€ä¸ª MySQLï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**

**æ–¹æ¡ˆ 1ï¼šåœæ­¢å ç”¨ç«¯å£çš„ç¨‹åºï¼ˆæ¨èï¼‰**
- **Windows**: 
  1. æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼ˆCtrl+Shift+Escï¼‰
  2. æ‰¾åˆ° MySQL ç›¸å…³è¿›ç¨‹ï¼ˆå¦‚ mysqld.exeï¼‰
  3. å³é”®ç‚¹å‡» â†’ ç»“æŸä»»åŠ¡
- **Mac/Linux**: 
  ```bash
  # æŸ¥çœ‹å ç”¨ç«¯å£çš„ç¨‹åº
  sudo lsof -i :3306
  # åœæ­¢ç¨‹åºï¼ˆæ›¿æ¢ PID ä¸ºå®é™…çš„è¿›ç¨‹å·ï¼‰
  sudo kill -9 <PID>
  ```

**æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ç«¯å£ï¼ˆä¸æ¨èï¼Œéœ€è¦ä¿®æ”¹é…ç½®ï¼‰**
ç¼–è¾‘ `docker-compose.dev.yml`ï¼Œå°† `3306:3306` æ”¹ä¸º `3307:3306`ï¼ˆæˆ–å…¶ä»–æœªè¢«å ç”¨çš„ç«¯å£ï¼‰

### é”™è¯¯ 4: "æƒé™ä¸è¶³" æˆ– "Access Denied" æˆ– "Permission denied"

**åŸå› ï¼š** éœ€è¦ç®¡ç†å‘˜æƒé™

**è§£å†³æ–¹æ¡ˆï¼š**
- **Windows**: å³é”®ç‚¹å‡»å‘½ä»¤è¡Œå›¾æ ‡ â†’ é€‰æ‹©"ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"
- **Mac/Linux**: åœ¨å‘½ä»¤å‰åŠ ä¸Š `sudo`ï¼ˆå¦‚ `sudo npm run mysql:start`ï¼‰

**æ³¨æ„**ï¼šä½¿ç”¨ `sudo` æ—¶è¦å°å¿ƒï¼Œç¡®ä¿å‘½ä»¤æ­£ç¡®ã€‚

### é”™è¯¯ 5: "æ‰¾ä¸åˆ° backend/.env æ–‡ä»¶" æˆ– "No such file or directory"

**åŸå› ï¼š** æ–‡ä»¶ä¸å­˜åœ¨æˆ–è·¯å¾„ä¸å¯¹

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®è®¤ä½ åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆèƒ½çœ‹åˆ° `package.json` æ–‡ä»¶ï¼‰
2. ç¡®è®¤ `backend` æ–‡ä»¶å¤¹å­˜åœ¨
3. å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œéœ€è¦åˆ›å»ºï¼š
   - åœ¨ `backend` æ–‡ä»¶å¤¹ä¸­æ–°å»ºä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶
   - é‡å‘½åä¸º `.env`ï¼ˆæ³¨æ„å‰é¢æœ‰ä¸ªç‚¹ï¼‰
   - å¤åˆ¶ä»¥ä¸‹å†…å®¹è¿›å»ï¼š
     ```env
     DB_HOST=localhost
     DB_PORT=3306
     DB_USERNAME=root
     DB_PASSWORD=root
     DB_DATABASE=myapp_db
     NODE_ENV=development
     PORT=3000
     JWT_SECRET=dev-secret-key
     CORS_ORIGIN=http://localhost:4000
     ```

### é”™è¯¯ 6: å‘½ä»¤æ‰§è¡Œåæ²¡æœ‰ä»»ä½•ååº”

**å¯èƒ½çš„åŸå› å’Œè§£å†³æ–¹æ¡ˆï¼š**

1. **å‘½ä»¤è¿˜åœ¨æ‰§è¡Œä¸­**ï¼šæŸäº›å‘½ä»¤éœ€è¦ç­‰å¾…ï¼Œæ¯”å¦‚å¯åŠ¨ MySQL éœ€è¦ 10-20 ç§’ï¼Œå¯åŠ¨æ‰€æœ‰æœåŠ¡éœ€è¦ 30-60 ç§’
   - **è§£å†³æ–¹æ³•**ï¼šç­‰å¾…ä¸€æ®µæ—¶é—´ï¼Œç„¶åè¿è¡Œ `npm run ps` æ£€æŸ¥çŠ¶æ€

2. **å‘½ä»¤æ‰§è¡ŒæˆåŠŸä½†æ²¡æœ‰è¾“å‡º**ï¼šè¿™æ˜¯æ­£å¸¸çš„ï¼Œæ²¡æœ‰é”™è¯¯å°±æ˜¯æˆåŠŸ
   - **è§£å†³æ–¹æ³•**ï¼šè¿è¡Œ `npm run ps` æˆ– `npm run health` ç¡®è®¤æœåŠ¡å·²å¯åŠ¨

3. **å‘½ä»¤å¡ä½äº†**ï¼šæŒ‰ Ctrl+C åœæ­¢ï¼Œç„¶åæ£€æŸ¥æ—¥å¿—
   - **è§£å†³æ–¹æ³•**ï¼šè¿è¡Œ `npm run mysql:logs` æŸ¥çœ‹ MySQL æ—¥å¿—ï¼Œæˆ– `npm run dev:logs` æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—

### é”™è¯¯ 7: "Cannot connect to database" æˆ–æ•°æ®åº“è¿æ¥å¤±è´¥

**åŸå› ï¼š** æ— æ³•è¿æ¥åˆ° MySQL æ•°æ®åº“

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. ç¡®è®¤ MySQL å®¹å™¨å·²å¯åŠ¨ï¼š`npm run ps`
2. ç¡®è®¤ MySQL å®¹å™¨çŠ¶æ€ä¸º "healthy" æˆ– "Up"
3. æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„æ•°æ®åº“é…ç½®

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡å¯ MySQL å®¹å™¨
npm run mysql:stop
npm run mysql:start

# ç­‰å¾… 20-30 ç§’åï¼Œå†æ¬¡å°è¯•
```

### é”™è¯¯ 8: "æ•°æ®åº“è®¤è¯å¤±è´¥" æˆ–å¯†ç ä¸ä¸€è‡´

**åŸå› ï¼š** MySQL å®¹å™¨çš„å¯†ç ä¸ `.env` æ–‡ä»¶ä¸­çš„ `DB_PASSWORD` ä¸ä¸€è‡´

**è§£å†³æ–¹æ¡ˆï¼š**

**æ–¹æ¡ˆ 1ï¼šåˆ é™¤æ•°æ®å·å¹¶é‡æ–°åˆå§‹åŒ–ï¼ˆæ¨èï¼‰**
```bash
npm run mysql:stop
docker volume rm yl_mysql_data
npm run mysql:start
# ç­‰å¾… MySQL å¯åŠ¨å
npm run backend:init-db
```

**æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ .env æ–‡ä»¶ä½¿ç”¨å½“å‰å¯†ç **
ç¼–è¾‘ `backend/.env`ï¼Œå°† `DB_PASSWORD` æ”¹ä¸º MySQL å®¹å™¨çš„å®é™…å¯†ç ï¼ˆé€šå¸¸æ˜¯ `root`ï¼‰

### é”™è¯¯ 9: æµè§ˆå™¨æ— æ³•è®¿é—® http://localhost:4000 æˆ– http://localhost:3000

**åŸå› ï¼š** æœåŠ¡æ²¡æœ‰å¯åŠ¨æˆ–ç«¯å£è¢«å ç”¨

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. è¿è¡Œ `npm run ps` ç¡®è®¤å®¹å™¨åœ¨è¿è¡Œ
2. è¿è¡Œ `npm run health` æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
3. æ£€æŸ¥æµè§ˆå™¨åœ°å€æ æ˜¯å¦æ­£ç¡®ï¼ˆåº”è¯¥æ˜¯ `localhost` ä¸æ˜¯ `127.0.0.1`ï¼Œè™½ç„¶ä¸¤è€…é€šå¸¸ä¸€æ ·ï¼‰

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡å¯æ‰€æœ‰æœåŠ¡
npm run dev:restart

# æˆ–é‡å¯å•ä¸ªæœåŠ¡
npm run backend:restart
npm run web:restart
```

### é”™è¯¯ 10: Docker Desktop å¯åŠ¨å¤±è´¥

**Windows å¸¸è§åŸå› ï¼š**
- WSL 2 æœªå¯ç”¨
- Hyper-V æœªå¯ç”¨
- è™šæ‹ŸåŒ–æœªå¯ç”¨

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç¡®ä¿ Windows åŠŸèƒ½ä¸­å¯ç”¨äº†"é€‚ç”¨äº Linux çš„ Windows å­ç³»ç»Ÿ"å’Œ"è™šæ‹Ÿæœºå¹³å°"
2. é‡å¯ç”µè„‘
3. å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼ŒæŸ¥çœ‹ Docker Desktop çš„é”™è¯¯æç¤º

**Mac å¸¸è§åŸå› ï¼š**
- ç³»ç»Ÿæƒé™ä¸è¶³
- èµ„æºä¸è¶³

**è§£å†³æ–¹æ¡ˆï¼š**
1. ç»™ Docker Desktop è¶³å¤Ÿçš„ç³»ç»Ÿæƒé™
2. ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´å’Œå†…å­˜

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜ 1: åç«¯æœåŠ¡æ— æ³•å¯åŠ¨

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. æŸ¥çœ‹åç«¯æ—¥å¿—ï¼š`npm run backend:logs`
2. æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸
3. ç¡®è®¤ç«¯å£ 3000 æœªè¢«å ç”¨

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡å¯åç«¯æœåŠ¡
npm run backend:restart

# å¦‚æœä»ç„¶å¤±è´¥ï¼Œé‡æ–°æ„å»ºé•œåƒ
npm run rebuild
npm run dev:up
```

### é—®é¢˜ 2: å‰ç«¯æ— æ³•è®¿é—®

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. æŸ¥çœ‹å‰ç«¯æ—¥å¿—ï¼š`npm run web:logs`
2. ç¡®è®¤ç«¯å£ 4000 æœªè¢«å ç”¨
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡å¯å‰ç«¯æœåŠ¡
npm run web:restart
```

### é—®é¢˜ 3: MySQL æ— æ³•å¤–éƒ¨è¿æ¥

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. ç¡®è®¤æ•°æ®åº“å·²åˆå§‹åŒ–ï¼š`npm run backend:init-db`
2. åˆå§‹åŒ–è„šæœ¬ä¼šè‡ªåŠ¨é…ç½®å¤–éƒ¨è¿æ¥æƒé™

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# é‡æ–°åˆå§‹åŒ–æ•°æ®åº“ï¼ˆä¼šè‡ªåŠ¨é…ç½®å¤–éƒ¨è¿æ¥æƒé™ï¼‰
npm run backend:init-db

# æˆ–æ‰‹åŠ¨æ‰§è¡Œä¿®å¤è„šæœ¬ï¼ˆå¦‚æœè‡ªåŠ¨é…ç½®å¤±è´¥ï¼‰
npm run mysql:fix-access
```

### é—®é¢˜ 4: æ•°æ®åº“åˆå§‹åŒ–å¤±è´¥

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. ç¡®è®¤ MySQL å®¹å™¨å·²å¯åŠ¨å¹¶å¥åº·ï¼š`npm run ps`
2. ç­‰å¾… MySQL å®Œå…¨å¯åŠ¨ï¼ˆçº¦ 20-30 ç§’ï¼‰
3. æŸ¥çœ‹ MySQL æ—¥å¿—ï¼š`npm run mysql:logs`
4. æ£€æŸ¥å¯†ç æ˜¯å¦åŒ¹é…ï¼šMySQL å®¹å™¨çš„ `MYSQL_ROOT_PASSWORD` å¿…é¡»ä¸ `backend/.env` ä¸­çš„ `DB_PASSWORD` ä¸€è‡´

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# å¦‚æœä¿®æ”¹äº†å¯†ç ï¼Œéœ€è¦é‡ç½®ç¯å¢ƒ
npm run reset
npm run dev:up
npm run backend:init-db

# æˆ–é‡æ–°åˆå§‹åŒ–æ•°æ®åº“
npm run backend:init-db
```

### é—®é¢˜ 5: ç™»å½•åé¡µé¢ç©ºç™½æˆ–æŠ¥é”™

**æ£€æŸ¥æ­¥éª¤ï¼š**
1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹ Console æ ‡ç­¾é¡µçš„é”™è¯¯ä¿¡æ¯
3. æŸ¥çœ‹ Network æ ‡ç­¾é¡µï¼Œçœ‹å“ªäº›è¯·æ±‚å¤±è´¥äº†

**è§£å†³æ–¹æ¡ˆï¼š**
```bash
# æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸
npm run backend:logs

# æ£€æŸ¥å‰ç«¯æœåŠ¡æ˜¯å¦æ­£å¸¸
npm run web:logs

# é‡å¯æœåŠ¡
npm run dev:restart
```

### é—®é¢˜ 6: ä¿®æ”¹ä»£ç åæ²¡æœ‰ç”Ÿæ•ˆ

**Docker æ¨¡å¼ï¼š**
- åç«¯ä»£ç ä¿®æ”¹åä¼šè‡ªåŠ¨çƒ­é‡è½½ï¼ˆç­‰å¾…å‡ ç§’ï¼‰
- å‰ç«¯ä»£ç ä¿®æ”¹åä¼šè‡ªåŠ¨åˆ·æ–°ï¼ˆç«‹å³ç”Ÿæ•ˆï¼‰

**æœ¬åœ°æ¨¡å¼ï¼š**
- ç¡®ä¿ä½¿ç”¨ `npm run start:dev` å¯åŠ¨ï¼ˆä¸æ˜¯ `npm run start`ï¼‰
- æ£€æŸ¥å‘½ä»¤è¡Œçª—å£æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

**å¦‚æœè¿˜æ˜¯æ²¡æœ‰ç”Ÿæ•ˆï¼š**
```bash
# é‡å¯æœåŠ¡
npm run dev:restart
# æˆ–
npm run backend:restart
```

## ğŸ“ å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

### Docker æ¨¡å¼å‘½ä»¤

```bash
# æœåŠ¡ç®¡ç†
npm run dev:up          # å¯åŠ¨æ‰€æœ‰æœåŠ¡
npm run dev:down        # åœæ­¢æ‰€æœ‰æœåŠ¡
npm run dev:restart     # é‡å¯æ‰€æœ‰æœåŠ¡
npm run dev:logs        # æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
npm run ps              # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
npm run health          # æ£€æŸ¥æœåŠ¡å¥åº·çŠ¶æ€
npm run verify          # æ£€æŸ¥æœåŠ¡çŠ¶æ€å¹¶æ˜¾ç¤ºå®¹å™¨ä¿¡æ¯

# åç«¯æœåŠ¡
npm run backend:start      # å¯åŠ¨åç«¯
npm run backend:stop       # åœæ­¢åç«¯
npm run backend:restart    # é‡å¯åç«¯
npm run backend:logs       # æŸ¥çœ‹åç«¯æ—¥å¿—
npm run backend:shell      # è¿›å…¥åç«¯å®¹å™¨
npm run backend:init-db    # åˆå§‹åŒ–æ•°æ®åº“

# å‰ç«¯æœåŠ¡
npm run web:start       # å¯åŠ¨å‰ç«¯
npm run web:stop        # åœæ­¢å‰ç«¯
npm run web:restart     # é‡å¯å‰ç«¯
npm run web:logs        # æŸ¥çœ‹å‰ç«¯æ—¥å¿—
npm run web:shell       # è¿›å…¥å‰ç«¯å®¹å™¨

# MySQL æœåŠ¡
npm run mysql:start         # å¯åŠ¨ MySQL
npm run mysql:stop          # åœæ­¢ MySQL
npm run mysql:logs         # æŸ¥çœ‹ MySQL æ—¥å¿—
npm run mysql:shell        # è¿›å…¥ MySQL å®¹å™¨
npm run mysql:fix-access   # æ‰‹åŠ¨ä¿®å¤å¤–éƒ¨è¿æ¥æƒé™ï¼ˆé€šå¸¸ä¸éœ€è¦ï¼Œåˆå§‹åŒ–æ—¶å·²è‡ªåŠ¨é…ç½®ï¼‰

# æ„å»ºå’Œæ¸…ç†
npm run rebuild         # é‡æ–°æ„å»ºé•œåƒï¼ˆæ— ç¼“å­˜ï¼‰
npm run clean          # æ¸…ç† Docker ç³»ç»Ÿ
npm run reset           # é‡ç½®å¼€å‘ç¯å¢ƒï¼ˆäº¤äº’å¼ï¼‰
npm run reset:all       # é‡ç½®å¼€å‘ç¯å¢ƒï¼ˆåˆ é™¤æ‰€æœ‰æ•°æ®ï¼‰
```

### æœ¬åœ°æ¨¡å¼å‘½ä»¤

```bash
# MySQL ç®¡ç†ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
npm run mysql:start      # å¯åŠ¨ MySQL å®¹å™¨
npm run mysql:stop       # åœæ­¢ MySQL å®¹å™¨
npm run mysql:logs       # æŸ¥çœ‹ MySQL æ—¥å¿—
npm run mysql:shell      # è¿›å…¥ MySQL å‘½ä»¤è¡Œ

# æ•°æ®åº“æ“ä½œï¼ˆåœ¨ backend ç›®å½•ï¼‰
cd backend
npm run db:init          # åˆå§‹åŒ–æ•°æ®åº“
npm run db:fix-external-access  # ä¿®å¤å¤–éƒ¨è¿æ¥æƒé™

# åç«¯æœåŠ¡ï¼ˆåœ¨ backend ç›®å½•ï¼‰
npm run start:dev        # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build            # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start:prod       # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨

# å¥åº·æ£€æŸ¥ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ï¼‰
npm run health           # æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
npm run verify           # æ£€æŸ¥æœåŠ¡çŠ¶æ€å¹¶æ˜¾ç¤ºå®¹å™¨ä¿¡æ¯

# å¿«é€Ÿå¯åŠ¨
npm run quick-start      # ä¸€é”®å¯åŠ¨ MySQL å¹¶åˆå§‹åŒ–æ•°æ®åº“
```

## ğŸ¯ ä¸‹ä¸€æ­¥

åˆå§‹åŒ–å®Œæˆåï¼Œä½ å¯ä»¥ï¼š

1. **è®¿é—®å‰ç«¯åº”ç”¨**ï¼šhttp://localhost:4000
2. **ä½¿ç”¨é»˜è®¤è´¦å·ç™»å½•**ï¼š
   - ç”¨æˆ·åï¼š`admin`
   - å¯†ç ï¼š`admin123`
3. **æŸ¥çœ‹ API æ–‡æ¡£**ï¼šhttp://localhost:3000/api
4. **å¼€å§‹å¼€å‘**ï¼šä¿®æ”¹ä»£ç åï¼ŒæœåŠ¡ä¼šè‡ªåŠ¨çƒ­é‡è½½

## âš ï¸ é‡è¦æç¤º

1. **ç”Ÿäº§ç¯å¢ƒ**ï¼šè¯·åŠ¡å¿…ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç å’Œå¯†é’¥
2. **æ•°æ®å¤‡ä»½**ï¼šå®šæœŸå¤‡ä»½æ•°æ®åº“æ•°æ®
3. **å®‰å…¨é…ç½®**ï¼šç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ `docker-compose.prod.yml` å¹¶é…ç½® HTTPS

